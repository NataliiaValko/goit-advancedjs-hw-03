{"version":3,"file":"commonHelpers.js","sources":["../src/service/markupService.js","../src/service/theCatAPIService.js","../src/service/cat-api.js","../src/js/helpers.js","../src/js/refs.js","../src/js/index.js"],"sourcesContent":["export const makeOptionsMarkup = breeds => {\n  return [\n    '<option data-placeholder=\"true\"></option>',\n    ...breeds.map(({ id, name }) => `<option value=${id}>${name}</option>`),\n  ].join('');\n};\n\nexport const makeCatInfoMarkup = ({ url, breeds: [info] }) => {\n  const { id, name, description, temperament } = info;\n\n  return `<img src=${url} alt=${name} height=\"380\"/><div><h2>${name}</h2><p>${description}</p><p>${temperament}</p></div>`;\n};\n","import axios from 'axios';\n\nconst API_KEY =\n  'live_Id2MBArVFPzA7WO4yuLCpdsnvzEt5N7fl0uDnipf1ZLtwi2Bxa6A8279Yd2vBbD9';\nconst BASE_URL = ' https://api.thecatapi.com/v1';\n\nexport const theCatAPI = axios.create({\n  baseURL: BASE_URL,\n  headers: { 'x-api-key': API_KEY },\n});\n","import { theCatAPI } from './theCatAPIService';\n\nexport const fetchBreeds = () => {\n  return theCatAPI('/breeds').then(res => res.data);\n};\n\nexport const fetchCatByBreed = breedId => {\n  return theCatAPI(`/images/search?breed_ids=${breedId}`).then(\n    res => res.data[0]\n  );\n};\n","export const setVisibleElement = ({ bool, element }) => {\n  bool\n    ? element.classList.replace('hidden', 'visible')\n    : element.classList.replace('visible', 'hidden');\n};\n","export const refs = {\n  breedSelectRef: document.querySelector('.breed-select'),\n  catInfoRef: document.querySelector('.cat-info'),\n  loaderRef: document.querySelector('.loader'),\n  errorRef: document.querySelector('.error'),\n};\n","import SlimSelect from 'slim-select';\nimport iziToast from 'izitoast';\n\nimport { makeOptionsMarkup, makeCatInfoMarkup } from '@/service/markupService';\nimport { fetchBreeds, fetchCatByBreed } from '@/service/cat-api';\nimport { setVisibleElement } from './helpers';\nimport { refs } from './refs';\n\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst onLoad = () => {\n  setVisibleElement({ bool: true, element: refs.loaderRef });\n  fetchBreeds()\n    .then(breeds => {\n      refs.breedSelectRef.innerHTML = makeOptionsMarkup(breeds);\n      new SlimSelect({\n        select: refs.breedSelectRef,\n        settings: {\n          placeholderText: 'Choose a breed',\n        },\n      });\n      setVisibleElement({ bool: true, element: refs.breedSelectRef });\n    })\n    .catch(error =>\n      iziToast.error({\n        title: 'Oops!',\n        message: 'Something went wrong! Try reloading the page!',\n        position: 'topRight',\n      })\n    )\n    .finally(() => setVisibleElement({ bool: false, element: refs.loaderRef }));\n};\n\nconst onChangeBreedsSelect = ({ target: { value } }) => {\n  setVisibleElement({ bool: true, element: refs.loaderRef });\n  refs.catInfoRef.innerHTML = '';\n  fetchCatByBreed(value)\n    .then(breed => (refs.catInfoRef.innerHTML = makeCatInfoMarkup(breed)))\n    .catch(error =>\n      iziToast.error({\n        title: 'Oops!',\n        message: 'Something went wrong! Try reloading the page!',\n        position: 'topRight',\n      })\n    )\n    .finally(() => setVisibleElement({ bool: false, element: refs.loaderRef }));\n};\n\nonLoad();\n\nrefs.breedSelectRef.addEventListener('change', onChangeBreedsSelect);\n"],"names":["makeOptionsMarkup","breeds","id","name","makeCatInfoMarkup","url","info","description","temperament","API_KEY","BASE_URL","theCatAPI","axios","fetchBreeds","res","fetchCatByBreed","breedId","setVisibleElement","bool","element","refs","onLoad","SlimSelect","error","iziToast","onChangeBreedsSelect","value","breed"],"mappings":"owBAAO,MAAMA,EAAoBC,GACxB,CACL,4CACA,GAAGA,EAAO,IAAI,CAAC,CAAE,GAAAC,EAAI,KAAAC,CAAI,IAAO,iBAAiBD,KAAMC,YAAe,CAC1E,EAAI,KAAK,EAAE,EAGEC,EAAoB,CAAC,CAAE,IAAAC,EAAK,OAAQ,CAACC,CAAI,CAAC,IAAO,CAC5D,KAAM,CAAE,GAAAJ,EAAI,KAAAC,EAAM,YAAAI,EAAa,YAAAC,CAAW,EAAKF,EAE/C,MAAO,YAAYD,SAAWF,4BAA+BA,YAAeI,WAAqBC,aACnG,ECTMC,EACJ,wEACIC,EAAW,gCAEJC,EAAYC,EAAM,OAAO,CACpC,QAASF,EACT,QAAS,CAAE,YAAaD,CAAS,CACnC,CAAC,ECPYI,EAAc,IAClBF,EAAU,SAAS,EAAE,KAAKG,GAAOA,EAAI,IAAI,EAGrCC,EAAkBC,GACtBL,EAAU,4BAA4BK,GAAS,EAAE,KACtDF,GAAOA,EAAI,KAAK,EACpB,ECTaG,EAAoB,CAAC,CAAE,KAAAC,EAAM,QAAAC,KAAc,CACtDD,EACIC,EAAQ,UAAU,QAAQ,SAAU,SAAS,EAC7CA,EAAQ,UAAU,QAAQ,UAAW,QAAQ,CACnD,ECJaC,EAAO,CAClB,eAAgB,SAAS,cAAc,eAAe,EACtD,WAAY,SAAS,cAAc,WAAW,EAC9C,UAAW,SAAS,cAAc,SAAS,EAC3C,SAAU,SAAS,cAAc,QAAQ,CAC3C,ECKMC,EAAS,IAAM,CACnBJ,EAAkB,CAAE,KAAM,GAAM,QAASG,EAAK,SAAS,CAAE,EACzDP,EAAa,EACV,KAAKZ,GAAU,CACdmB,EAAK,eAAe,UAAYpB,EAAkBC,CAAM,EACxD,IAAIqB,EAAW,CACb,OAAQF,EAAK,eACb,SAAU,CACR,gBAAiB,gBAClB,CACT,CAAO,EACDH,EAAkB,CAAE,KAAM,GAAM,QAASG,EAAK,cAAc,CAAE,CACpE,CAAK,EACA,MAAMG,GACLC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,UAClB,CAAO,CACF,EACA,QAAQ,IAAMP,EAAkB,CAAE,KAAM,GAAO,QAASG,EAAK,SAAW,CAAA,CAAC,CAC9E,EAEMK,EAAuB,CAAC,CAAE,OAAQ,CAAE,MAAAC,CAAO,CAAA,IAAO,CACtDT,EAAkB,CAAE,KAAM,GAAM,QAASG,EAAK,SAAS,CAAE,EACzDA,EAAK,WAAW,UAAY,GAC5BL,EAAgBW,CAAK,EAClB,KAAKC,GAAUP,EAAK,WAAW,UAAYhB,EAAkBuB,CAAK,CAAE,EACpE,MAAMJ,GACLC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,UAClB,CAAO,CACF,EACA,QAAQ,IAAMP,EAAkB,CAAE,KAAM,GAAO,QAASG,EAAK,SAAW,CAAA,CAAC,CAC9E,EAEAC,IAEAD,EAAK,eAAe,iBAAiB,SAAUK,CAAoB"}